{% extends "layout.html" %}
{% block content %}
  <h1>Income Events</h1>
  <form method="post" action="/holdings/income">
    <div class="grid3">
      <label>Account<br/>
        <select name="account_id">
          {% for a in accounts %}
            <option value="{{ a.id }}">{{ a.name }}</option>
          {% endfor %}
        </select>
      </label>
      <label>Date<br/><input name="date" value="{{ today }}"/></label>
      <label>Type<br/>
        <select name="type">
          <option value="DIVIDEND">DIVIDEND</option>
          <option value="INTEREST">INTEREST</option>
          <option value="WITHHOLDING">WITHHOLDING</option>
          <option value="FEE">FEE</option>
        </select>
      </label>
      <label>Ticker (optional)<br/><input name="ticker"/></label>
      <label>Amount<br/><input name="amount"/></label>
      <label>Audit note<br/><input name="note"/></label>
    </div>
    <button type="submit">Add income event</button>
  </form>

  <h2>Recent events</h2>
  <table>
    <tr><th>Date</th><th>Account</th><th>Type</th><th>Ticker</th><th>Amount</th></tr>
    {% for e in events %}
      <tr><td>{{ e.date }}</td><td>{{ e.account_id }}</td><td>{{ e.type }}</td><td>{{ e.ticker or "" }}</td><td>{{ e.amount|usd }}</td></tr>
    {% endfor %}
  </table>
{% endblock %}
